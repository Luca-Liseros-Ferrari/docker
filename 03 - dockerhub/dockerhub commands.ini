; ====================================================
; GUIDA OPERATIVA DOCKERHUB (Login, Push, Pull e Cleanup)
; ====================================================

[STEP_0_AVVIO_DOCKER_DESKTOP]
; - Prima di qualsiasi comando, assicurati che Docker Desktop sia avviato.
; - Se il daemon Docker non è in esecuzione, i comandi daranno errore.

[STEP_1_VERIFICA_CONTAINER_LOCALE]
; - Controlla le immagini locali:
docker images

; - Controlla i container in esecuzione:
docker ps -a

; - Se necessario, fai partire il container con eventuali variabili d'ambiente:
docker run -d -p 8080:8080 -e VARIABILE=valore --name nome-container nome-immagine

[STEP_2_LOGIN_DOCKERHUB]
; - Accedi al tuo account Docker Hub:
docker login
; - Inserisci Username e Password o Personal Access Token (PAT)
; - Solo dopo il login puoi fare push/pull.

[STEP_3_TAGGARE_IMMAGINE_PER DOCKERHUB]
; - Tagga le immagini locali con il nome del repository Docker Hub:
docker tag megawrapper liseros/nomeprogetto:latest
docker tag megawrappernuovo liseros/megawrapper:latest
docker tag midoripolfinale liseros/midoripol:latest

; - Nota: il primo parametro è il nome locale dell'immagine
;         il secondo è il nome sul Docker Hub (user/repository:tag)

[STEP_4_PUSH_SU_DOCKERHUB]
; - Effettua il push sul repository Docker Hub:
docker push liseros/nomeprogetto:latest
docker push liseros/megawrapper:latest
docker push liseros/midoripol:latest

[STEP_5_PULL_DAL_DOCKERHUB]
; - Per scaricare l'immagine da un altro host o macchina:
docker pull liseros/megawrapper:latest
docker pull liseros/midoripol:latest

[STEP_6_TEST_POST_PULL]
; - Avvia il container dall'immagine appena scaricata:
docker run -d -p 3100:3100 --name megawrapper-container liseros/megawrapper:latest

; - Verifica che l'applicazione sia raggiungibile:
curl http://<IP_DEL_SERVER>:3100

[STEP_7_GESTIONE_IMMAGINI_LOCALI]
; - Lista tutte le immagini locali:
docker images

; - Lista solo le immagini dangling (tag <none>):
docker images -f "dangling=true"

; - Rimuovi tutte le immagini dangling (sicuro):
docker image prune -f

[STEP_8_CONSIGLI]
; - Mantieni aggiornate le immagini locali solo con quelle attive e necessarie.
; - Prima di fare `prune -a`, verifica container inattivi con:
docker ps -a
; - Se necessario, salva le immagini importanti con:
docker save -o nomefile.tar nome-immagine:tag
; - Per ripristinarle in futuro:
docker load -i nomefile.tar
